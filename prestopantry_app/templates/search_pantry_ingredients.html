{% extends 'base.html' %}
{% block content %}
{% load static %}

<div class=""> 
<h2 class="text-white text-center">Ingredient Search Central</h2>
<p class="text-white text-center">Search for ingredients to add to your pantry!</p>
<section class="text-center text-white">
    
    
<form action = "{% url 'search-pantry-ingredients' %}" method = "post">
    {% csrf_token %}
    <label for="ingredient_field"> <b>Search for an Ingredient:</b> </label>
    <input id="ingredient_field"  type="text" placeholder="onion" name="ingredient_name">
    <input type="submit" value="SEARCH" name="ingredient_button">
</form>

{% comment %}
<form action = "{% url 'search-pantry-ingredients' %}" method = "post">
    {% csrf_token %}
    <label for="ingredient_name"> <b>Search for a recipe via ingredients:</b> </label>
    <input id="ingredients" type="text" placeholder="pepperoni, cheese, olive" name="ingredients">
    <input type="submit" value="SEARCH" name="ingredient_per_recipe_button">
</form>
  
{% endcomment %}

</section>




    {% comment %}
    <h5 class="card-title">{{ingredient_name}}</h5>
    {% endcomment %}
    
    <h3 class="text-center text-white">{{error}}</h3>

    <div class="row ps-4">
        {% for item in ingredient_info %}
        <div class=" col-sm-2 col-md-3 col-lg-3 g-4">
            <div class="card ingredient_cards" style="width: 18rem; height:18rem;">
                <!-- <img src="..." class="placeholder rounded-6" alt="..."> -->
             
            <div class="card-body">
                    <ul class="list-group list-group-flush bg-transparent">
                        <li class="list-group-item"><b>Ingredient:</b> {{item.0}}</li>
                        <li class="list-group-item"><b>Id:</b> {{item.1}}</li>
                        <li class="list-group-item"><b>Upc:</b> {{item.2}}</li>
                    </ul>

                    <hr class="my-2">
                    {% if item.3 == True %}
                    <div class="text-success">
                       <b>Ingredient Added!</b>
                           

                    </div>
                    {% else %}
                    
                        <form method = "post">
                            {% csrf_token %}
                            <input type="hidden" value="{{item.1}}" name="ingredient_id">
                            <input type="hidden" value="{{item.0}}" name="ingredient_name">
                            <input type="hidden" value="{{item.2}}" name="upc">
                            <input type="submit" value="Add" name="add_ingredient_button" class="btn btn-success btn-md ">

                        </form>
                    
                    {% endif %}
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
        <br>

{% comment %}
  


{% elif recipe_context %}

    {% for item in recipe_context.recipe  %}
        <h5><b>-------------Recipe Info-------------</b></h5>
        <li>Recipe Name: {{item.1}}</li>
        <li>Recipe Id: {{item.0}}</li>
        <img src="{{item.2}}" alt="">
        
        
            <h5><b>Missing Ingredients</b></h5>
            {% for element in item.3 %}
            <li>Missing Ingredient Id: {{element.0}} Missing Ingredient: {{ element.1}}</li>
            <img src="{{element.2}}" alt="">
            {% empty %}
            <li>No Missing Ingredients</li>
            {% endfor %}

            <h5><b>Used Ingredients</b></h5>
            {% for element in item.4  %}
            <li>Used Ingredient Id: {{element.0}} Used Ingredient: {{ element.1}}</li>
            <img src="{{element.2}}" alt="">
            {% empty %}
            <li>No Used Ingredients</li>
            {% endfor %}

            <h5><b>Unused Ingredients</b></h5>
            {% for element in item.5  %}
            <li>Unused Ingredient Id: {{element.0}} Unused Ingredient: {{ element.1}}</li>
            <img src="{{element.2}}" alt="">  
            {% empty %}
            <li>No Unused Ingredients</li>
            {% endfor %}
        
    {% endfor %}

    {% endcomment %}
        

</div>

{% endblock %}